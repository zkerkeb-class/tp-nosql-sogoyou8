<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pok√©dex</title>
    <link rel="stylesheet" href="/css/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- NAV -->
    <nav class="navbar">
        <div class="nav-brand" onclick="navigateTo('pokedex')">
            <img src="https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/items/poke-ball.png" alt="pokeball" class="nav-logo">
            <span>Pok√©dex</span>
        </div>
        <div class="nav-links">
            <button class="nav-btn active" data-page="pokedex" onclick="navigateTo('pokedex')">Pok√©dex</button>
            <button class="nav-btn" data-page="favorites" onclick="navigateTo('favorites')">‚ù§Ô∏è Favoris</button>
            <button class="nav-btn" data-page="teams" onclick="navigateTo('teams')">üë• √âquipes</button>
            <button class="nav-btn" data-page="stats" onclick="navigateTo('stats')">üìä Stats</button>
        </div>
        <div class="nav-auth" id="nav-auth">
            <button class="btn btn-outline" onclick="showModal('login')">Connexion</button>
            <button class="btn btn-primary" onclick="showModal('register')">Inscription</button>
        </div>
    </nav>

    <!-- MAIN CONTENT -->
    <main class="container">
        <!-- PAGE: POKEDEX -->
        <section id="page-pokedex" class="page active">
            <div class="page-header">
                <h1>Pok√©dex</h1>
                <p class="subtitle">Explorez les Pok√©mon de la 1√®re g√©n√©ration</p>
            </div>

            <!-- FILTRES -->
            <div class="filters">
                <div class="search-box">
                    <input type="text" id="search-name" placeholder="Rechercher un Pok√©mon..." oninput="debouncedSearch()">
                </div>
                <div class="filter-group">
                    <select id="filter-type" onchange="onFilterChange()">
                        <option value="">Tous les types</option>
                        <option value="Normal">Normal</option>
                        <option value="Fire">Feu</option>
                        <option value="Water">Eau</option>
                        <option value="Electric">√âlectrik</option>
                        <option value="Grass">Plante</option>
                        <option value="Ice">Glace</option>
                        <option value="Fighting">Combat</option>
                        <option value="Poison">Poison</option>
                        <option value="Ground">Sol</option>
                        <option value="Flying">Vol</option>
                        <option value="Psychic">Psy</option>
                        <option value="Bug">Insecte</option>
                        <option value="Rock">Roche</option>
                        <option value="Ghost">Spectre</option>
                        <option value="Dragon">Dragon</option>
                        <option value="Dark">T√©n√®bres</option>
                        <option value="Steel">Acier</option>
                        <option value="Fairy">F√©e</option>
                    </select>
                    <select id="filter-sort" onchange="onFilterChange()">
                        <option value="id">N¬∞ croissant</option>
                        <option value="-id">N¬∞ d√©croissant</option>
                        <option value="name.french">Nom A-Z</option>
                        <option value="-name.french">Nom Z-A</option>
                        <option value="-base.Speed">Vitesse ‚Üì</option>
                        <option value="base.Speed">Vitesse ‚Üë</option>
                    </select>
                    <button class="btn btn-outline btn-small" id="shiny-toggle" onclick="toggleShiny()">‚ú® Shiny</button>
                </div>
            </div>

            <!-- GRILLE POKEMON -->
            <div id="pokemon-grid" class="pokemon-grid"></div>

            <!-- PAGINATION -->
            <div id="pagination" class="pagination"></div>
        </section>

        <!-- PAGE: FAVORIS -->
        <section id="page-favorites" class="page">
            <div class="page-header">
                <h1>‚ù§Ô∏è Mes Favoris</h1>
                <p class="subtitle">Vos Pok√©mon pr√©f√©r√©s</p>
            </div>
            <div id="favorites-grid" class="pokemon-grid"></div>
            <div id="favorites-empty" class="empty-state" style="display:none;">
                <p>Vous n'avez aucun favori. Connectez-vous et ajoutez des Pok√©mon !</p>
            </div>
        </section>

        <!-- PAGE: EQUIPES -->
        <section id="page-teams" class="page">
            <div class="page-header">
                <h1>üë• Mes √âquipes</h1>
                <p class="subtitle">Constituez vos √©quipes de combat</p>
                <button class="btn btn-primary" onclick="showCreateTeamModal()" id="btn-create-team" style="display:none; margin-top: 1rem;">+ Nouvelle √©quipe</button>
            </div>
            <div id="teams-list" class="teams-list"></div>
            <div id="teams-empty" class="empty-state" style="display:none;">
                <p>Vous n'avez aucune √©quipe. Connectez-vous et cr√©ez-en une !</p>
            </div>
        </section>

        <!-- PAGE: STATS -->
        <section id="page-stats" class="page">
            <div class="page-header">
                <h1>üìä Statistiques</h1>
                <p class="subtitle">Tout savoir sur les Pok√©mon en un coup d'≈ìil</p>
            </div>
            <div id="stats-content" class="stats-content"></div>
        </section>
    </main>

    <!-- MODAL: AUTH -->
    <div id="modal-overlay" class="modal-overlay" onclick="closeModal()">
        <div class="modal" onclick="event.stopPropagation()">
            <button class="modal-close" onclick="closeModal()">‚úï</button>
            <div id="modal-content"></div>
        </div>
    </div>

    <!-- MODAL: POKEMON DETAIL -->
    <div id="detail-overlay" class="modal-overlay" onclick="closeDetail()">
        <div class="modal modal-large" onclick="event.stopPropagation()">
            <button class="modal-close" onclick="closeDetail()">‚úï</button>
            <div id="detail-content"></div>
        </div>
    </div>

    <!-- TOAST -->
    <div id="toast-container" class="toast-container"></div>

    <script src="/js/app.js"></script>
</body>
</html>